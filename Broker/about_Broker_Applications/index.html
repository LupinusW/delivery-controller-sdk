<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>about_Broker_Applications - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "about_Broker_Applications";
    var mkdocs_page_input_path = "Broker/about_Broker_Applications.md";
    var mkdocs_page_url = "/Broker/about_Broker_Applications/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#topic">TOPIC</a></li>
        
    
        <li class="main "><a href="#short-description">SHORT DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#long-description">LONG DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#examples">EXAMPLES</a></li>
        
    
        <li class="main "><a href="#see-also">SEE ALSO</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Broker &raquo;</li>
        
      
    
    <li>about_Broker_Applications</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>ï»¿# about_Broker_Applications</p>
<h2 id="topic"><a class="toclink" href="#topic">TOPIC</a></h2>
<div class="codehilite"><pre><span></span>Citrix Broker SDK - Applications
</pre></div>


<h2 id="short-description"><a class="toclink" href="#short-description">SHORT DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>Describes how to publish and manage hosted applications.
</pre></div>


<h2 id="long-description"><a class="toclink" href="#long-description">LONG DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>Published applications allow your users to launch applications as if they 
were installed on their devices when in fact they are hosted remotely. The 
applications are normally launched in a seamless window, meaning that users 
see only the application window and not an additional desktop.

Published applications are hosted on either desktop operating systems or 
server operating systems. Applications are published to users and desktop 
groups. As such, conceptually they exist &quot;on top&quot; of desktop groups, which 
are themselves built on top of catalogs. See about_Broker_Concepts for more 
information on catalogs.

There are three types of applications: 
o   HostedOnDesktop - application runs on a remote machine and is displayed 
    on the local client desktop. 
o   InstalledOnClient - application is installed and run on the local 
    client machine and has its window overlaid on to a remote desktop. 
o   PublishedContent - application refers to actual content (using a URL   
    or UNC). File type associations determine what application is run to  
    view the content
</pre></div>


<p>HOSTING APPLICATIONS 
    There are three main ways of hosting an application: using a private 
    single-session VDI desktop, a shared single-session VDI desktop, and on 
    shared multi-session server operating systems. </p>
<div class="codehilite"><pre><span></span>An application hosted on a shared single-session VDI desktop, when launched, 
is hosted on a random machine within the desktop group. An application 
hosted on a private single-session VDI desktop ensures that when a user 
launches the application it is always hosted on the same machine. An 
application hosted on shared multi-session server operating systems ensures 
that when a user launches the application it is always hosted on one of the 
least loaded servers in the desktop group.

You control how the application is hosted based on the kind of desktop group 
that you choose. Shared desktop groups randomly select a machine, and these 
desktop groups can only be created from catalogs with a Random 
AllocationType. On the other hand, private desktop groups host the 
application on the same machine for that user every time, and these desktop 
group types can only be created from catalogs with a Permanent 
AllocationType.
</pre></div>


<p>USER ACCESS &amp; ASSIGNMENT 
    Users are not assigned an application directly, but instead they are 
    required to first have access to the desktop groups on which the 
    applications are published through access policy rules. </p>
<div class="codehilite"><pre><span></span>With shared desktop groups, access to a published application also needs an 
application entitlement policy rule. An application entitlement policy rule 
defines the set of users who are allowed per-session access to desktops in a 
specified desktop group.

With private desktop groups, access to a published application also needs an 
application assignment policy rule. An application assignment policy rule 
defines the set of users who are allowed access to a single application 
session in a desktop group.

Users are assigned private machines in one of two ways: pre-assigned or 
assign-on-first-use. Pre-assigned means that individual user accounts have 
been specified for the machines within that desktop group. A single machine 
can only have a single user account (not a group account) assigned to it, 
and likewise a user can only be assigned a single machine within a desktop 
group.

Assign-on-first-use requires less configuration. Machines are assigned to 
users the first time they log on. Rather than allocating users directly to 
machines, instead users are assigned to the private desktop group, either 
through individual user accounts or through user group accounts. Then, when 
a user assigned to the desktop group logs on, a machine is automatically 
allocated to them.
</pre></div>


<p>USER VISIBILITY 
    Users can be further filtered by configuring the visibility filter on top of 
    the application. This restricts the application to a subset of the users 
    that were granted access by the access policy and entitlement/assignment 
    policy rules on the desktop group. </p>
<p>MULTIPLE DESKTOP GROUPS 
    You can publish an application to multiple desktop groups, which have to be 
    of the same kind. Generally, an application that is published only to 
    private desktop groups is referred to as a "private application". An 
    application that is only published to shared desktop groups is referred to 
    as a "shared application". </p>
<p>APPLICATION GROUPS 
    An application group is a group of applications. Applications may be 
    published either by adding them directly to a desktop group, or they may 
    first be assigned to an application group, which may then be added to a 
    desktop group. Adding an application group to a desktop group publishes all 
    of the application group's applications to that desktop group in a single 
    operation. The set of machines on which the application group's applications 
    can be launched may then be restricted further by tagging the desired 
    machines and setting the application group's RestrictToTag property. </p>
<div class="codehilite"><pre><span></span>Grouping applications together allows for them to be administered as a 
single unit. For example: 
o   Moving an application group to a different desktop group has the same 
    effect as moving each of the applications, without the need to move each 
    application individually. 
o   Disabling an application group disables each application in the group. 
o   Application groups have a visibility filter that applies to every 
    application within the group (see &#39;User visibility&#39; above).

Application groups may be configured to allow or disallow session sharing 
with applications published by other application groups. For example, you 
may have a particular set of applications that do not interoperate well with 
certain other applications that are installed on the same machines - for 
example, two different versions of the same software suite, or two different 
versions of the same web browser. You may prefer not to allow the user to 
launch both versions in the same session.

In such a case, an application group can be created for each version of the 
software suite, and the applications for each version of the software suite 
added to the corresponding application group. If session sharing is disabled 
for each of the application groups, then the user will be able to run 
applications of the same version in the same session, and can still run 
other applications at the same time - but not in the same session. If the 
user launches one of the different-versioned applications, which are in a 
different application group, or launches any application that is not 
contained in an application group, then that application is launched in a 
new session.

IMPORTANT. The session sharing feature of application groups is not intended 
to be a security sandboxing feature. In addition to not being foolproof, it 
cannot prevent users from launching applications into their sessions through 
other means (e.g. through Windows Explorer).

An application may be a member of more than one application group. In that 
case, it inherits settings from all of the application groups of which it is 
a member. For example, an application is only disabled if all of the 
application groups to which it is assigned are disabled, or if the 
application itself is disabled.

However, if application or application group visiblity filters are used, 
then it is recommended that each application be a member of at most one 
application group, and that visibility filters are used either on 
applications, or on application groups, but not both. This is because it is 
not generally possible for the system to combine multiple visibility filters 
in such as way that they can consistently be enforced.

An application may also be a member of both an application group and a 
desktop group at the same time. However, this is not recommended, because 
the additional complexity can make it harder for the administrator to 
predict how machines are allocated to users. It is recommended that each 
application be published either via application groups, or via desktop 
groups, but not both.

Application groups may not be published via private desktop groups.

Application groups are purely an administrative concept. They are not 
visible to end users.
</pre></div>


<p>LICENSING 
    Hosted applications need the appropriate licenses to exist on the license 
    server to be functional. </p>
<p>NAMING 
    Applications have three names that identify them: the Name, BrowserName and 
    the PublishedName. The Name is unique for each application, is not visible 
    to the user, and is primarily used for administrative purpose. The 
    BrowserName is unique across the entire site, and is primarily used 
    internally. The PublishedName is not unique and is the name seen by end 
    users who have access to this application. </p>
<div class="codehilite"><pre><span></span><span class="nt">When</span> <span class="nt">creating</span> <span class="nt">an</span> <span class="nt">application</span><span class="o">,</span> <span class="nt">you</span> <span class="nt">only</span> <span class="nt">need</span> <span class="nt">to</span> <span class="nt">specify</span> <span class="nt">the</span> <span class="nt">Name</span><span class="o">.</span> <span class="nt">If</span> <span class="nt">no</span> 
<span class="nt">BrowserName</span> <span class="nt">is</span> <span class="nt">specified</span> <span class="nt">one</span> <span class="nt">is</span> <span class="nt">automatically</span> <span class="nt">generated</span><span class="o">.</span> <span class="nt">If</span> <span class="nt">no</span> <span class="nt">PublishedName</span> 
<span class="nt">is</span> <span class="nt">specified</span> <span class="nt">by</span> <span class="nt">default</span> <span class="nt">it</span> <span class="nt">is</span> <span class="nt">the</span> <span class="nt">same</span> <span class="nt">as</span> <span class="nt">the</span> <span class="nt">Name</span><span class="o">.</span>

<span class="nt">The</span> <span class="nt">following</span> <span class="nt">special</span> <span class="nt">characters</span> <span class="nt">are</span> <span class="nt">not</span> <span class="nt">allowed</span> <span class="nt">in</span> <span class="nt">the</span> <span class="nt">Name</span><span class="o">,</span> <span class="nt">BrowserName</span> <span class="nt">or</span> 
<span class="nt">the</span> <span class="nt">PublishedName</span> <span class="nt">properties</span><span class="o">:</span> <span class="err">\</span> <span class="o">/</span> <span class="o">;</span> <span class="o">:</span> <span class="err">#</span> <span class="o">.</span> <span class="o">*</span> <span class="o">?</span> <span class="o">=</span> <span class="o">&amp;</span><span class="nt">lt</span><span class="o">;</span> <span class="o">&amp;</span><span class="nt">gt</span><span class="o">;</span> <span class="o">|</span> <span class="cp">[</span> <span class="cp">]</span> <span class="o">(</span> <span class="o">)</span> <span class="err">&quot;</span> <span class="err">&#39;</span>

<span class="nt">In</span> <span class="nt">addition</span> <span class="nt">the</span> <span class="err">`</span> <span class="nt">character</span> <span class="nt">is</span> <span class="nt">not</span> <span class="nt">allowed</span> <span class="nt">in</span> <span class="nt">the</span> <span class="nt">Name</span> <span class="nt">property</span><span class="o">.</span>

<span class="nt">To</span> <span class="nt">change</span> <span class="nt">the</span> <span class="nt">PublishedName</span> <span class="nt">or</span> <span class="nt">BrowserName</span> <span class="nt">of</span> <span class="nt">an</span> <span class="nt">application</span> <span class="nt">you</span> <span class="nt">must</span> <span class="nt">use</span> 
<span class="nt">the</span> <span class="nt">Set-BrokerApplication</span> <span class="nt">cmdlet</span><span class="o">.</span>

<span class="nt">To</span> <span class="nt">change</span> <span class="nt">the</span> <span class="nt">Name</span> <span class="nt">of</span> <span class="nt">an</span> <span class="nt">application</span> <span class="nt">you</span> <span class="nt">must</span> <span class="nt">use</span> <span class="nt">the</span> 
<span class="nt">Rename-BrokerApplication</span> <span class="nt">cmdlet</span><span class="o">.</span>
</pre></div>


<p>OPTIONAL 
    You can configure file-type associations for applications, so that if a user 
    double-clicks a document icon on their device, a published application 
    automatically starts. For more information, see the help for 
    New-BrokerConfiguredFTA. </p>
<div class="codehilite"><pre><span></span>You can apply tags to applications as another convenient way to further 
organize (and search for) applications. For more information, see the help 
for New-BrokerTag.
</pre></div>


<p>CMDLETS 
    New-BrokerApplication 
        Creates an application for publishing after the needed desktop groups, 
        access policy and entitlement/assignment policy rules have been created. </p>
<div class="codehilite"><pre><span></span>Add-BrokerApplication 
    Adds one or more applications to a desktop group.

Get-BrokerApplication 
    Gets one or more applications.

Remove-BrokerApplication 
    Deletes one or more applications or it can be used to delete just the 
    association of an application to a desktop group.

Rename-BrokerApplication 
    Changes the Name of an application.

Set-BrokerApplication 
    Changes the settings of application objects, except their names.
</pre></div>


<h2 id="examples"><a class="toclink" href="#examples">EXAMPLES</a></h2>
<p>SHARED APPLICATION (SingleSession) 
    You have created a catalog with a Random AllocationType and SingleSession 
    SessionSupport. It contains two machines called worker1 and worker2, both in 
    the ACME domain. You publish an application with shared hosting as follows: </p>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; Write-Host &quot;Create a desktop group, and add machines to it&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">dg</span><span class="x"> = New-BrokerDesktopGroup &quot;Shared Application Group&quot; </span>
<span class="x">-DesktopKind Shared -DeliveryType AppsOnly -SessionSupport &#39;SingleSession&#39; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m1</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker1&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m2</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker2&quot; </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m1</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m2</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create access policy rule for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAccessPolicyRule -Name &quot;Shared Application Group - Allow Everyone Access&quot; </span>
<span class="x">-Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -IncludedUserFilterEnabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">-AllowedProtocols @(&quot;HDX&quot;) -AllowedUsers AnyAuthenticated </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create application entitlement policy for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAppEntitlementPolicyRule -Name &quot;Shared Application Group - App Entitlement&quot; </span>
<span class="x">-IncludedUsers &#39;ACME\Domain Users&#39; -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create an application&quot; </span>
<span class="x">C:\PS&gt; New-BrokerApplication -Name &quot;Notepad&quot; -PublishedName &quot;Notepad&quot; </span>
<span class="x">-CommandLineExecutable &quot;notepad.exe&quot; -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"></span>

<span class="x">In turn, this set of commands: creates a shared single session desktop group </span>
<span class="x">for applications delivery; adds two machines (from a catalog with a Random </span>
<span class="x">AllocationType and SingleSession SessionSupport) to the desktop group; </span>
<span class="x">creates access policy and application entitlement policy rules; creates an </span>
<span class="x">application; specifies its name, the executable, and links the application </span>
<span class="x">to the desktop group that will host it.</span>
</pre></div>


<p>SHARED APPLICATION (MultiSession) 
    You have created a catalog with a Random AllocationType and MultiSession 
    SessionSupport. It contains one machine called worker1 in the ACME domain. 
    You publish an application with shared hosting as follows: </p>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; Write-Host &quot;Create a desktop group, and add machines to it&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">dg</span><span class="x"> = New-BrokerDesktopGroup &quot;Shared Application Group&quot; </span>
<span class="x">-DesktopKind Shared -DeliveryType AppsOnly -SessionSupport &#39;MultiSession&#39; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m1</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker1&quot; </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m1</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create access policy rule for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAccessPolicyRule -Name &quot;Shared Application Group - Allow Everyone Access&quot; </span>
<span class="x">-Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -IncludedUserFilterEnabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">-AllowedProtocols @(&quot;HDX&quot;) -AllowedUsers AnyAuthenticated </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create application entitlement policy for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAppEntitlementPolicyRule -Name &quot;Shared Application Group - App Entitlement&quot; </span>
<span class="x">-IncludedUsers &#39;ACME\Domain Users&#39; -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create an application&quot; </span>
<span class="x">C:\PS&gt; New-BrokerApplication -Name &quot;Notepad&quot; -PublishedName &quot;Notepad&quot; </span>
<span class="x">-CommandLineExecutable &quot;notepad.exe&quot; -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"></span>

<span class="x">In turn, this set of commands: creates a shared multi session desktop group </span>
<span class="x">for applications delivery; adds one machine (from a catalog with a Random </span>
<span class="x">AllocationType and MultiSession SessionSupport) to the desktop group; </span>
<span class="x">creates access policy and application entitlement policy rules; creates an </span>
<span class="x">application; specifies its name, the executable, and links the application </span>
<span class="x">to the desktop group that will host it.</span>
</pre></div>


<p>PRIVATE PRE-ASSIGNED APPLICATION 
    You have a catalog with a Permanent AllocationType and SingleSession 
    SessionSupport. It contains two machines called worker1 and worker2, both in 
    the ACME domain. You publish an application with private hosting using 
    pre-assigned machines as follows: </p>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; Write-Host &quot;Create a desktop group, and add machines to it&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">dg</span><span class="x"> = New-BrokerDesktopGroup &quot;Private App G1&quot; -DesktopKind Private </span>
<span class="x">-DeliveryType AppsOnly -SessionSupport &#39;SingleSession&#39; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m1</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker1&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m2</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker2&quot; </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m1</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m2</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Setting access policy rule for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAccessPolicyRule -Name &quot;Private App G1 - Allow Everyone Access&quot; </span>
<span class="x">-Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -IncludedUserFilterEnabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">-AllowedProtocols @(&quot;HDX&quot;) -AllowedUsers AnyAuthenticated </span>
<span class="x">C:\PS&gt; Write-Host &quot;Pre-Assign users to the machines&quot; </span>
<span class="x">C:\PS&gt; Add-BrokerUser &quot;ACME\user1&quot; -Machine </span><span class="p">$</span><span class="nv">m1</span><span class="x"> </span>
<span class="x">C:\PS&gt; Add-BrokerUser &quot;ACME\user2&quot; -Machine </span><span class="p">$</span><span class="nv">m2</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create an application&quot; </span>
<span class="x">C:\PS&gt; New-BrokerApplication -Name &quot;Notepad&quot; -PublishedName &quot;Notepad&quot; </span>
<span class="x">-CommandLineExecutable &quot;notepad.exe&quot; -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"></span>

<span class="x">In turn, this set of commands: creates a private desktop group for </span>
<span class="x">applications delivery; adds two machines (from a catalog with a Permanent </span>
<span class="x">AllocationType and SingleSession SessionSupport) to the desktop group; </span>
<span class="x">creates access policy; creates two user objects; pre-assigns a user to each </span>
<span class="x">machine; creates the application; assigns users to it; and links the </span>
<span class="x">application to the desktop group that will host it.</span>
</pre></div>


<p>PRIVATE, ASSIGN-ON-FIRST-USE APPLICATION 
    You have a catalog created with a Permanent AllocationType and SingleSession 
    SessionSupport. It contains two machines called worker1 and worker2, both in 
    the ACME domain. You publish an application with private hosting using 
    assign-on-first-use machines as follows: </p>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; Write-Host &quot;Create a desktop group, and add machines to it&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">dg</span><span class="x"> = New-BrokerDesktopGroup &quot;Private App G2&quot; -DesktopKind Private </span>
<span class="x">-DeliveryType AppsOnly -SessionSupport &#39;SingleSession&#39; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m1</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker1&quot; </span>
<span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m2</span><span class="x"> = Get-BrokerMachine -MachineName &quot;ACME\worker2&quot; </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m1</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Add-BrokerMachine </span><span class="p">$</span><span class="nv">m2</span><span class="x"> -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Setting access policy rule for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAccessPolicyRule -Name &quot;Private App G1 - Allow Everyone Access&quot; </span>
<span class="x">-Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -IncludedUserFilterEnabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">-AllowedProtocols @(&quot;HDX&quot;) -AllowedUsers AnyAuthenticated </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create application assignment policy for desktop group&quot; </span>
<span class="x">C:\PS&gt; New-BrokerAppAssignmentPolicyRule -Name &quot;Private App G2 - App Assignment&quot; </span>
<span class="x">-IncludedUsers &#39;ACME\Domain Users&#39; -DesktopGroupUid </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"> -Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> </span>
<span class="x">C:\PS&gt; Write-Host &quot;Create an application&quot; </span>
<span class="x">C:\PS&gt; New-BrokerApplication -Name &quot;Notepad&quot; -PublishedName &quot;Notepad&quot; </span>
<span class="x">-CommandLineExecutable &quot;notepad.exe&quot; -DesktopGroup </span><span class="p">$</span><span class="nv">dg</span><span class="p">.</span><span class="nv">Uid</span><span class="x"></span>

<span class="x">In turn, this set of commands: creates a private single session desktop </span>
<span class="x">group for applications delivery; adds two machines (from a catalog with a </span>
<span class="x">Permanent AllocationType and SingleSession SessionSupport) to the desktop </span>
<span class="x">group; creates access policy and application assignment policy rules; </span>
<span class="x">creates the application, and links the application to the desktop group that </span>
<span class="x">will host it.</span>
</pre></div>


<h2 id="see-also"><a class="toclink" href="#see-also">SEE ALSO</a></h2>
<div class="codehilite"><pre><span></span>about_Broker_Concepts 
about_Broker_Desktops 
New-BrokerApplication 
Add-BrokerApplication 
Remove-BrokerApplication 
Rename-BrokerApplication 
Set-BrokerApplication 
New-BrokerAppAssignmentPolicyRule 
Remove-BrokerAppAssignmentPolicyRule 
Set-BrokerAppAssignmentPolicyRule 
New-BrokerAppEntitlementPolicyRule 
Remove-BrokerAppEntitlementPolicyRule 
Set-BrokerAppEntitlementPolicyRule
</pre></div>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../about_Broker_AccessPolicy/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../about_Broker_AssignmentPolicy/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>

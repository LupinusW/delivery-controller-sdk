<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>about_Broker_Machines - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "about_Broker_Machines";
    var mkdocs_page_input_path = "Broker/about_Broker_Machines.md";
    var mkdocs_page_url = "/Broker/about_Broker_Machines/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#topic">TOPIC</a></li>
        
    
        <li class="main "><a href="#short-description">SHORT DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#long-description">LONG DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#catalogs">CATALOGS</a></li>
        
    
        <li class="main "><a href="#machine-status">MACHINE STATUS</a></li>
        
    
        <li class="main "><a href="#machine-configuration">MACHINE CONFIGURATION</a></li>
        
    
        <li class="main "><a href="#maintenance-mode">MAINTENANCE MODE</a></li>
        
    
        <li class="main "><a href="#see-also">SEE ALSO</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Broker &raquo;</li>
        
      
    
    <li>about_Broker_Machines</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>﻿# about_Broker_Machines</p>
<h2 id="topic"><a class="toclink" href="#topic">TOPIC</a></h2>
<div class="codehilite"><pre><span></span>Citrix Broker SDK - Machine Object
</pre></div>


<h2 id="short-description"><a class="toclink" href="#short-description">SHORT DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>Describes machine concepts and usage.
</pre></div>


<h2 id="long-description"><a class="toclink" href="#long-description">LONG DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>A machine represents a physical or virtual machine that can be used to 
provide a user with one or more desktops, applications or both. When a 
machine is created, you must assign it to a catalog, which defines how the 
machine is allocated to a user (static or random), the session support it 
provides (single-session or multi-session), how the machine&#39;s disk images 
are created and managed (PVS, MCS or manually) and the expected functional 
level. If the machine is virtual but not provisioned by MCS, you must also 
assign it to a hypervisor connection, which represents the hypervisor (or 
pool of linked hypervisors) that runs the virtual machine.

Creating a machine object is the first step in the broker SDK towards 
configuring a physical or virtual machine to provide desktops and/or 
applications to users. A machine must be added to a desktop group before it 
is able to be used(see about_Broker_Desktops). To add machines to a desktop 
group, the Add-BrokerMachine or Add-BrokerMachinesToDesktopGroup cmdlets can 
be used. This creates a desktop object corresponding to the machine.
</pre></div>


<h2 id="catalogs"><a class="toclink" href="#catalogs">CATALOGS</a></h2>
<div class="codehilite"><pre><span></span>When a machine is created, you must assign it to a catalog. The catalog 
defines the behavior of the machine within a site as well as the expected 
functionality and properties of the machine:

o   Allocation type: The catalog determines how the machines are allocated 
    to the user. Allocation can be static or random. Static allocation is 
    where the machine is permanently assigned to a specific user. Data 
    stored is retained across logons and restarts.

    The other type of allocation is random, where a random machine is 
    assigned to a user from a pool when a session is requested. The machine 
    returns to the pool when the user logs off.

o   How the machine is created: The catalog collects together machines that 
    are created in the same way: either with PVS, MCS or manually.

o   Physical or Virtual: A machine that is virtual can have its power state 
    controlled and monitored by the system. Virtual machines must be 
    associated with a hypervisor connection, either directly or, in the case 
    of MCS provisioned machines, indirectly through the provisioning scheme. 
    Single session virtual machines can be managed using power policy to 
    automatically be turned on or off as needed. Machines marked as physical 
    are not monitored or controlled as to their power state.

o   How the users settings are stored: The catalog also determines how the 
    users settings are stored, either on a Citrix Personal vDisk, on the 
    machine’s local drive, or if the user settings are discarded.

o   RemotePC: If the catalog is set up as a remote PC catalog, machines are 
    added automatically upon registration based on the site configuration. 
    In order for a catalog to be specified as a RemotePC catalog, the 
    session support must be single session and the catalog must be set up 
    for physical machines.

o   Functional level: The functional level of a machine is determined by the 
    version of the Citrix VDA software it is running. Some features are not 
    supported in machines with lower functional levels. Catalogs can supply 
    a minimal functional level, meaning any machines in the catalog with a 
    lower functional level will be unable to register with the site.

o   Session support: This can either be single-session or multi-session. 
    Single-session machines can have an active session with up to one user 
    at any time, whereas multi-session machines have the capability to have 
    active sessions with multiple users simultaneously. The session support 
    of a machine is determined by the variant of the VDA software component 
    installed on the machine (either with single-session support or multi- 
    session support). The multi-session VDA software may only be installed 
    on server operating systems. The catalog session support must match the 
    session support of the software installed on the machine for the machine 
    to successfully register with the site.
</pre></div>


<h2 id="machine-status"><a class="toclink" href="#machine-status">MACHINE STATUS</a></h2>
<div class="codehilite"><pre><span></span>After machines are created, you can query the configuration and state 
information using the Get-BrokerMachine cmdlet. The information the cmdlet 
can provide includes, but is not limited to, the following:

o   Personal vDisk interactions and lifecycle: The current state of the 
    personal vDisk can be obtained, as well as the configuration options of 
    how the user data is persisted.

o   Session properties: The properties of the current session for single- 
    session machines can be obtained, such as ClientName and ClientAddress. 
    To access session information on multi-session machines, the 
    Get-BrokerSession cmdlet can be used.

o   Application status: If the machine is configured to run applications, 
    information can be found about the published applications running on the 
    machine.

o   Connection information: Information about the time and user of the last 
    connection to the machine can be found, as well as information about the 
    last deregistration.

For an exhaustive list of the properties of a machine that can be queried, 
see the Get-BrokerMachine cmdlet.
</pre></div>


<h2 id="machine-configuration"><a class="toclink" href="#machine-configuration">MACHINE CONFIGURATION</a></h2>
<div class="codehilite"><pre><span></span>Machine settings can be changed and configured once the machine object has 
been created, as long as the changes are compatible with the catalog the 
machine is in. For example, more users can be assigned to the machine than 
were initially assigned when creating the machine object, this is done with 
the Add-BrokerUser cmdlet.

For a full list of the machine configuration options available, see the 
Set-BrokerMachine command.
</pre></div>


<h2 id="maintenance-mode"><a class="toclink" href="#maintenance-mode">MAINTENANCE MODE</a></h2>
<div class="codehilite"><pre><span></span><span class="x">There are times when it is necessary to disable machines. This can be </span>
<span class="x">achieved by setting the InMaintenanceMode property to </span><span class="p">$</span><span class="nv">true</span><span class="x">. This puts the </span>
<span class="x">machine into maintenance mode. With single-session machines, this means that </span>
<span class="x">the broker excludes the machine from brokering decisions and does not start </span>
<span class="x">new sessions on them. Existing sessions are unaffected. For multi-session </span>
<span class="x">desktops in maintenance mode, reconnections to existing sessions are </span>
<span class="x">allowed, but no new sessions are created on the machine.</span>

<span class="x">Machines in maintenance mode are also excluded from automatic power </span>
<span class="x">management, although explicit power actions are still performed.</span>
</pre></div>


<h2 id="see-also"><a class="toclink" href="#see-also">SEE ALSO</a></h2>
<div class="codehilite"><pre><span></span>about_Broker_PowerManagement 
about_Broker_Desktops 
New-BrokerMachine 
Add-BrokerMachine 
Add-BrokerMachinesToDesktopGroup 
Remove-BrokerMachine 
Get-BrokerMachine 
Set-BrokerMachine
</pre></div>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../about_Broker_Licensing/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../about_Broker_Policies/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>

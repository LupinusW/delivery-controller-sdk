<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Get-BrokerAccessPolicyRule - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "Get-BrokerAccessPolicyRule";
    var mkdocs_page_input_path = "Broker/Get-BrokerAccessPolicyRule.md";
    var mkdocs_page_url = "/Broker/Get-BrokerAccessPolicyRule/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#syntax">Syntax</a></li>
        
    
        <li class="main "><a href="#detailed-description">Detailed Description</a></li>
        
    
        <li class="main "><a href="#related-commands">Related Commands</a></li>
        
    
        <li class="main "><a href="#parameters">Parameters</a></li>
        
    
        <li class="main "><a href="#input-type">Input Type</a></li>
        
            <li><a href="#none">None</a></li>
        
    
        <li class="main "><a href="#return-values">Return Values</a></li>
        
            <li><a href="#citrixbrokeradminsdkaccesspolicyrule">Citrix.Broker.Admin.SDK.AccessPolicyRule</a></li>
        
    
        <li class="main "><a href="#examples">Examples</a></li>
        
            <li><a href="#example-1">EXAMPLE 1</a></li>
        
            <li><a href="#example-2">EXAMPLE 2</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Broker &raquo;</li>
        
      
    
    <li>Get-BrokerAccessPolicyRule</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>ï»¿# Get-BrokerAccessPolicyRule</p>
<p>Gets rules from the site's access policy.</p>
<h2 id="syntax"><a class="toclink" href="#syntax">Syntax</a></h2>
<div class="codehilite"><pre><span></span>Get-BrokerAccessPolicyRule [-Uid] &lt;Int32&gt; [-Property &lt;String[]&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]

Get-BrokerAccessPolicyRule [[-Name] &lt;String&gt;] [-AllowedConnections &lt;AllowedConnection&gt;] [-AllowedUsers &lt;AllowedUser&gt;] [-Description &lt;String&gt;] [-DesktopGroupName &lt;String&gt;] [-DesktopGroupUid &lt;Int32&gt;] [-Enabled &lt;Boolean&gt;] [-ExcludedClientIPFilterEnabled &lt;Boolean&gt;] [-ExcludedClientName &lt;String&gt;] [-ExcludedClientNameFilterEnabled &lt;Boolean&gt;] [-ExcludedSmartAccessFilterEnabled &lt;Boolean&gt;] [-ExcludedSmartAccessTag &lt;String&gt;] [-ExcludedUser &lt;User&gt;] [-ExcludedUserFilterEnabled &lt;Boolean&gt;] [-IncludedClientIPFilterEnabled &lt;Boolean&gt;] [-IncludedClientName &lt;String&gt;] [-IncludedClientNameFilterEnabled &lt;Boolean&gt;] [-IncludedSmartAccessFilterEnabled &lt;Boolean&gt;] [-IncludedSmartAccessTag &lt;String&gt;] [-IncludedUser &lt;User&gt;] [-IncludedUserFilterEnabled &lt;Boolean&gt;] [-Metadata &lt;String&gt;] [-ReturnTotalRecordCount] [-MaxRecordCount &lt;Int32&gt;] [-Skip &lt;Int32&gt;] [-SortBy &lt;String&gt;] [-Filter &lt;String&gt;] [-Property &lt;String[]&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]
</pre></div>


<h2 id="detailed-description"><a class="toclink" href="#detailed-description">Detailed Description</a></h2>
<p>Returns rules matching the specified search criteria from the site's access policy. If no search criteria are specified, all rules in the access policy are obtained.</p>
<p>An access policy rule defines a set of connection filters and access control rights relating to a desktop group. These allow fine-grained control of what access is granted to a desktop group based on details of, for example, a user's endpoint device, its address, and the user's identity.</p>
<p>-------------------------- BrokerAccessPolicyRule Object
A BrokerAccessPolicyRule object represents a single rule within the site's access policy. For a user to gain access to a desktop group via the rule their connection must match all its enabled include filters, and none of its enabled exclude filters. The object contains the following properties:</p>
<div class="codehilite"><pre><span></span><span class="nt">--</span> <span class="nt">AllowedConnections</span> <span class="o">(</span><span class="nt">Citrix</span><span class="nc">.Broker.Admin.SDK.AllowedConnection</span><span class="o">)</span>
   <span class="nt">Controls</span> <span class="nt">whether</span> <span class="nt">connections</span> <span class="nt">must</span> <span class="nt">be</span> <span class="nt">local</span> <span class="nt">or</span> <span class="nt">via</span> <span class="nt">Access</span> <span class="nt">Gateway</span><span class="o">,</span> <span class="nt">and</span> <span class="nt">if</span> <span class="nt">so</span> <span class="nt">whether</span> <span class="nt">specified</span> <span class="nt">SmartAccess</span> <span class="nt">tags</span> <span class="nt">must</span> <span class="nt">be</span> <span class="nt">provided</span> <span class="nt">by</span> <span class="nt">Access</span> <span class="nt">Gateway</span> <span class="nt">with</span> <span class="nt">the</span> <span class="nt">connection</span><span class="o">.</span> <span class="nt">This</span> <span class="nt">property</span> <span class="nt">forms</span> <span class="nt">part</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">included</span> <span class="nt">SmartAccess</span> <span class="nt">tags</span> <span class="nt">filter</span><span class="o">.</span>

   <span class="nt">For</span> <span class="nt">a</span> <span class="nt">detailed</span> <span class="nt">description</span> <span class="nt">of</span> <span class="nt">this</span> <span class="nt">property</span> <span class="nt">see</span> <span class="s2">&quot;help about_Broker_AccessPolicy&quot;</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">AllowedProtocols</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="cp">[]</span><span class="o">)</span>
   <span class="nt">Protocols</span> <span class="o">(</span><span class="nt">for</span> <span class="nt">example</span> <span class="nt">HDX</span><span class="o">,</span> <span class="nt">RDP</span><span class="o">)</span> <span class="nt">available</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">user</span> <span class="nt">for</span> <span class="nt">sessions</span> <span class="nt">delivered</span> <span class="nt">from</span> <span class="nt">the</span> <span class="nt">rule</span><span class="s1">&#39;s desktop group. If the user gains access to a desktop group by multiple rules, the allowed protocol list is the combination of the protocol lists from all those rules.</span>

<span class="s1">   If the protocol list is empty, access to the desktop group is implicitly denied.</span>

<span class="s1">-- AllowedUsers (Citrix.Broker.Admin.SDK.AllowedUser)</span>
<span class="s1">   Controls the behavior of the included users filter. This can restrict access to a list of named users or groups, or allow access to any authenticated user. For a detailed description of this property see &quot;help about_Broker_AccessPolicy&quot;.</span>

<span class="s1">-- AllowRestart (System.Boolean)</span>
<span class="s1">   Indicates if the user can restart sessions delivered from the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span><span class="o">.</span> <span class="nt">Session</span> <span class="nt">restart</span> <span class="nt">is</span> <span class="nt">handled</span> <span class="nt">as</span> <span class="nt">follows</span><span class="o">:</span> <span class="nt">For</span> <span class="nt">sessions</span> <span class="nt">on</span> <span class="nt">single-session</span> <span class="nt">power-managed</span> <span class="nt">machines</span><span class="o">,</span> <span class="nt">the</span> <span class="nt">machine</span> <span class="nt">is</span> <span class="nt">powered</span> <span class="nt">off</span><span class="o">,</span> <span class="nt">and</span> <span class="nt">a</span> <span class="nt">new</span> <span class="nt">session</span> <span class="nt">launch</span> <span class="nt">request</span> <span class="nt">made</span><span class="o">;</span> <span class="nt">for</span> <span class="nt">sessions</span> <span class="nt">on</span> <span class="nt">multi-session</span> <span class="nt">machines</span><span class="o">,</span> <span class="nt">a</span> <span class="nt">logoff</span> <span class="nt">request</span> <span class="nt">is</span> <span class="nt">issued</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">session</span><span class="o">,</span> <span class="nt">and</span> <span class="nt">a</span> <span class="nt">new</span> <span class="nt">session</span> <span class="nt">launch</span> <span class="nt">request</span> <span class="nt">made</span><span class="o">;</span> <span class="nt">otherwise</span> <span class="nt">the</span> <span class="nt">property</span> <span class="nt">is</span> <span class="nt">ignored</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">Description</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="o">)</span>
   <span class="nt">An</span> <span class="nt">optional</span> <span class="nt">description</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">rule</span><span class="o">.</span> <span class="nt">The</span> <span class="nt">text</span> <span class="nt">is</span> <span class="nt">purely</span> <span class="nt">informational</span> <span class="nt">for</span> <span class="nt">the</span> <span class="nt">administrator</span><span class="o">,</span> <span class="nt">it</span> <span class="nt">is</span> <span class="nt">never</span> <span class="nt">visible</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">end</span> <span class="nt">user</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">DesktopGroupName</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="o">)</span>
   <span class="nt">The</span> <span class="nt">name</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">desktop</span> <span class="nt">group</span> <span class="nt">to</span> <span class="nt">which</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">applies</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">DesktopGroupUid</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Int32</span><span class="o">)</span>
   <span class="nt">The</span> <span class="nt">unique</span> <span class="nt">ID</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">desktop</span> <span class="nt">group</span> <span class="nt">to</span> <span class="nt">which</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">applies</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">Enabled</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Boolean</span><span class="o">)</span>
   <span class="nt">Indicates</span> <span class="nt">whether</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">is</span> <span class="nt">enabled</span><span class="o">.</span> <span class="nt">A</span> <span class="nt">disabled</span> <span class="nt">rule</span> <span class="nt">is</span> <span class="nt">ignored</span> <span class="nt">when</span> <span class="nt">evaluating</span> <span class="nt">the</span> <span class="nt">site</span><span class="s1">&#39;s access policy.</span>

<span class="s1">-- ExcludedClientIPFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the excluded client IP filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- ExcludedClientIPs (Citrix.Broker.Admin.SDK.ChbIPAddressRange</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   IP addresses of user devices explicitly denied access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span><span class="o">.</span> <span class="nt">Addresses</span> <span class="nt">can</span> <span class="nt">be</span> <span class="nt">specified</span> <span class="nt">as</span> <span class="nt">simple</span> <span class="nt">numeric</span> <span class="nt">addresses</span> <span class="nt">or</span> <span class="nt">as</span> <span class="nt">subnet</span> <span class="nt">masks</span> <span class="o">(</span><span class="nt">for</span> <span class="nt">example</span><span class="o">,</span> <span class="nt">10</span><span class="nc">.40.37.5</span> <span class="nt">or</span> <span class="nt">10</span><span class="nc">.40.0.0</span><span class="o">/</span><span class="nt">16</span><span class="o">).</span> <span class="nt">This</span> <span class="nt">property</span> <span class="nt">forms</span> <span class="nt">part</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">excluded</span> <span class="nt">client</span> <span class="nt">IP</span> <span class="nt">address</span> <span class="nt">filter</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">ExcludedClientNameFilterEnabled</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Boolean</span><span class="o">)</span>
   <span class="nt">Indicates</span> <span class="nt">whether</span> <span class="nt">the</span> <span class="nt">excluded</span> <span class="nt">client</span> <span class="nt">name</span> <span class="nt">filter</span> <span class="nt">is</span> <span class="nt">enabled</span><span class="o">.</span> <span class="nt">If</span> <span class="nt">the</span> <span class="nt">filter</span> <span class="nt">is</span> <span class="nt">disabled</span> <span class="nt">it</span> <span class="nt">is</span> <span class="nt">ignored</span> <span class="nt">when</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">is</span> <span class="nt">evaluated</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">ExcludedClientNames</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="cp">[]</span><span class="o">)</span>
   <span class="nt">Names</span> <span class="nt">of</span> <span class="nt">user</span> <span class="nt">devices</span> <span class="nt">explicitly</span> <span class="nt">denied</span> <span class="nt">access</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">rule</span><span class="s1">&#39;s desktop group. This property forms part of the excluded client names filter.</span>

<span class="s1">-- ExcludedSmartAccessFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the excluded SmartAccess tags filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- ExcludedSmartAccessTags (System.String</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   SmartAccess tags which explicitly deny access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span> <span class="nt">if</span> <span class="nt">any</span> <span class="nt">occur</span> <span class="nt">in</span> <span class="nt">those</span> <span class="nt">provided</span> <span class="nt">by</span> <span class="nt">Access</span> <span class="nt">Gateway</span> <span class="nt">with</span> <span class="nt">the</span> <span class="nt">user</span><span class="s1">&#39;s connection. This property forms part of the excluded SmartAccess tags filter.</span>

<span class="s1">-- ExcludedUserFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the excluded users filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- ExcludedUsers (Citrix.Broker.Admin.SDK.ChbUser</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   Users and groups who are explicitly denied access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span><span class="o">.</span> <span class="nt">This</span> <span class="nt">property</span> <span class="nt">forms</span> <span class="nt">part</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">excluded</span> <span class="nt">users</span> <span class="nt">filter</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">HdxSslEnabled</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Boolean</span><span class="o">)</span>
   <span class="nt">Indicates</span> <span class="nt">whether</span> <span class="nt">TLS</span> <span class="nt">encryption</span> <span class="nt">is</span> <span class="nt">enabled</span> <span class="nt">for</span> <span class="nt">sessions</span> <span class="nt">delivered</span> <span class="nt">from</span> <span class="nt">the</span> <span class="nt">rule</span><span class="s1">&#39;s desktop group.</span>

<span class="s1">-- IncludedClientIPFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the included client IP filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- IncludedClientIPs (Citrix.Broker.Admin.SDK.ChbIPAddressRange</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   IP addresses of user devices allowed access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span><span class="o">.</span> <span class="nt">Addresses</span> <span class="nt">can</span> <span class="nt">be</span> <span class="nt">specified</span> <span class="nt">as</span> <span class="nt">simple</span> <span class="nt">numeric</span> <span class="nt">addresses</span> <span class="nt">or</span> <span class="nt">as</span> <span class="nt">subnet</span> <span class="nt">masks</span> <span class="o">(</span><span class="nt">for</span> <span class="nt">example</span><span class="o">,</span> <span class="nt">10</span><span class="nc">.40.37.5</span> <span class="nt">or</span> <span class="nt">10</span><span class="nc">.40.0.0</span><span class="o">/</span><span class="nt">16</span><span class="o">).</span> <span class="nt">This</span> <span class="nt">property</span> <span class="nt">forms</span> <span class="nt">part</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">included</span> <span class="nt">client</span> <span class="nt">IP</span> <span class="nt">address</span> <span class="nt">filter</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">IncludedClientNameFilterEnabled</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Boolean</span><span class="o">)</span>
   <span class="nt">Indicates</span> <span class="nt">whether</span> <span class="nt">the</span> <span class="nt">included</span> <span class="nt">client</span> <span class="nt">names</span> <span class="nt">filter</span> <span class="nt">is</span> <span class="nt">enabled</span><span class="o">.</span> <span class="nt">If</span> <span class="nt">the</span> <span class="nt">filter</span> <span class="nt">is</span> <span class="nt">disabled</span> <span class="nt">it</span> <span class="nt">is</span> <span class="nt">ignored</span> <span class="nt">when</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">is</span> <span class="nt">evaluated</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">IncludedClientNames</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="cp">[]</span><span class="o">)</span>
   <span class="nt">Names</span> <span class="nt">of</span> <span class="nt">user</span> <span class="nt">devices</span> <span class="nt">allowed</span> <span class="nt">access</span> <span class="nt">to</span> <span class="nt">the</span> <span class="nt">rule</span><span class="s1">&#39;s desktop group. This property forms part of the included client names filter.</span>

<span class="s1">-- IncludedSmartAccessFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the included SmartAccess tags filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- IncludedSmartAccessTags (System.String</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   The SmartAccess tags which grant access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span> <span class="nt">if</span> <span class="nt">any</span> <span class="nt">occur</span> <span class="nt">in</span> <span class="nt">those</span> <span class="nt">provided</span> <span class="nt">by</span> <span class="nt">Access</span> <span class="nt">Gateway</span> <span class="nt">with</span> <span class="nt">the</span> <span class="nt">user</span><span class="s1">&#39;s connection. This property forms part of the excluded SmartAccess tags filter.</span>

<span class="s1">-- IncludedUserFilterEnabled (System.Boolean)</span>
<span class="s1">   Indicates whether the included users filter is enabled. If the filter is disabled it is ignored when the rule is evaluated.</span>

<span class="s1">-- IncludedUsers (Citrix.Broker.Admin.SDK.ChbUser</span><span class="cp">[]</span><span class="s1">)</span>
<span class="s1">   Users and groups who are granted access to the rule&#39;</span><span class="nt">s</span> <span class="nt">desktop</span> <span class="nt">group</span><span class="o">.</span> <span class="nt">This</span> <span class="nt">property</span> <span class="nt">forms</span> <span class="nt">part</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">included</span> <span class="nt">users</span> <span class="nt">filter</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">MetadataMap</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Collections.Generic.Dictionary</span><span class="o">&lt;</span><span class="nt">string</span><span class="o">,</span> <span class="nt">string</span><span class="o">&gt;)</span>
   <span class="nt">A</span> <span class="nt">collection</span> <span class="nt">of</span> <span class="nt">arbitrary</span> <span class="nt">key</span><span class="o">/</span><span class="nt">value</span> <span class="nt">pairs</span> <span class="nt">that</span> <span class="nt">can</span> <span class="nt">be</span> <span class="nt">associated</span> <span class="nt">with</span> <span class="nt">the</span> <span class="nt">rule</span><span class="o">.</span> <span class="nt">The</span> <span class="nt">administrator</span> <span class="nt">can</span> <span class="nt">use</span> <span class="nt">these</span> <span class="nt">values</span> <span class="nt">for</span> <span class="nt">any</span> <span class="nt">purpose</span><span class="o">;</span> <span class="nt">they</span> <span class="nt">are</span> <span class="nt">not</span> <span class="nt">used</span> <span class="nt">by</span> <span class="nt">the</span> <span class="nt">site</span> <span class="nt">itself</span> <span class="nt">in</span> <span class="nt">any</span> <span class="nt">way</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">Name</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.String</span><span class="o">)</span>
   <span class="nt">Administrative</span> <span class="nt">name</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">rule</span><span class="o">.</span> <span class="nt">Each</span> <span class="nt">rule</span> <span class="nt">in</span> <span class="nt">the</span> <span class="nt">site</span><span class="err">&#39;</span><span class="nt">s</span> <span class="nt">access</span> <span class="nt">policy</span> <span class="nt">must</span> <span class="nt">have</span> <span class="nt">a</span> <span class="nt">unique</span> <span class="nt">name</span><span class="o">.</span>

<span class="nt">--</span> <span class="nt">Uid</span> <span class="o">(</span><span class="nt">System</span><span class="nc">.Int32</span><span class="o">)</span>
   <span class="nt">Unique</span> <span class="nt">ID</span> <span class="nt">of</span> <span class="nt">the</span> <span class="nt">rule</span> <span class="nt">itself</span><span class="o">.</span>
</pre></div>


<h2 id="related-commands"><a class="toclink" href="#related-commands">Related Commands</a></h2>
<ul>
<li><a href="../New-BrokerAccessPolicyRule.html">New-BrokerAccessPolicyRule</a></li>
<li><a href="../Set-BrokerAccessPolicyRule.html">Set-BrokerAccessPolicyRule</a></li>
<li><a href="../Rename-BrokerAccessPolicyRule.html">Rename-BrokerAccessPolicyRule</a></li>
<li><a href="../Remove-BrokerAccessPolicyRule.html">Remove-BrokerAccessPolicyRule</a></li>
</ul>
<h2 id="parameters"><a class="toclink" href="#parameters">Parameters</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Required?</th>
<th>Pipeline Input</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Uid</td>
<td>Gets only the rule with the specified unique ID.</td>
<td>true</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Name</td>
<td>Gets only rules with the specified name.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>AllowedConnections</td>
<td>Gets only rules that have the specified value in the AllowedConnections property of their included SmartAccess tags filter.<br>Valid values are Filtered, NotViaAG, ViaAG and AnyViaAG.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>AllowedUsers</td>
<td>Gets only rules that have the specified value in the AllowedUsers property of their included users filter.<br>Valid values are Filtered, AnyAuthenticated, Any, AnonymousOnly and FilteredOrAnonymous.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Description</td>
<td>Gets only rules with the specified description.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>DesktopGroupName</td>
<td>Gets only rules applying to desktop groups with names matching the specified name.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>DesktopGroupUid</td>
<td>Gets only rules that apply to the desktop group with the specified unique ID.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Enabled</td>
<td>Gets only rules that are in the specified state, either enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedClientIPFilterEnabled</td>
<td>Gets only rules that have their excluded client IP address filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedClientName</td>
<td>Gets only rules that have the specified client name in their excluded client names filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedClientNameFilterEnabled</td>
<td>Gets only rules that have their excluded client name filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedSmartAccessFilterEnabled</td>
<td>Gets only rules that have their excluded SmartAccess tags filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedSmartAccessTag</td>
<td>Gets only rules that have the specified SmartAccess tag in their excluded SmartAccess tags filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedUser</td>
<td>Gets only rules that have the specified user in their excluded users filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ExcludedUserFilterEnabled</td>
<td>Gets only rules that have their excluded user filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedClientIPFilterEnabled</td>
<td>Gets only rules that have their included client IP address filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedClientName</td>
<td>Gets only rules that have the specified user device name in their included client names filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedClientNameFilterEnabled</td>
<td>Gets only rules that have their included client name filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedSmartAccessFilterEnabled</td>
<td>Gets only rules that have their included SmartAccess tags filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedSmartAccessTag</td>
<td>Gets only rules that have the specified SmartAccess tag in their included SmartAccess tags filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedUser</td>
<td>Gets only rules that have the specified user in their included users filter (whether the filter is enabled or not).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IncludedUserFilterEnabled</td>
<td>Gets only rules that have their included user filter enabled ($true) or disabled ($false).</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Metadata</td>
<td>Gets records with matching metadata entries.<br>The value being compared with is a concatenation of the key name, a colon, and the value. For example: -Metadata "abc:x*" matches records with a metadata entry having a key name of "abc" and a value starting with the letter "x".</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ReturnTotalRecordCount</td>
<td>When specified, this causes the cmdlet to output an error record containing the number of records available. This error record is additional information and does not affect the objects written to the output pipeline. See about_Broker_Filtering for details.</td>
<td>false</td>
<td>false</td>
<td>False</td>
</tr>
<tr>
<td>MaxRecordCount</td>
<td>Specifies the maximum number of records to return.</td>
<td>false</td>
<td>false</td>
<td>250</td>
</tr>
<tr>
<td>Skip</td>
<td>Skips the specified number of records before returning results. Also reduces the count returned by -ReturnTotalRecordCount.</td>
<td>false</td>
<td>false</td>
<td>0</td>
</tr>
<tr>
<td>SortBy</td>
<td>Sorts the results by the specified list of properties. The list is a set of property names separated by commas, semi-colons, or spaces. Optionally, prefix each name with a + or - to indicate ascending or descending order. Ascending order is assumed if no prefix is present.</td>
<td>false</td>
<td>false</td>
<td>The default sort order is by name or unique identifier.</td>
</tr>
<tr>
<td>Filter</td>
<td>Gets records that match a PowerShell style filter expression. See about_Broker_Filtering for details.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Property</td>
<td>Specifies the properties to be returned. This is similar to piping the output of the command through Select-Object, but the properties are filtered more efficiently at the server.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>AdminAddress</td>
<td>Specifies the address of a XenDesktop controller that the PowerShell snapin will connect to. This can be provided as a host name or an IP address.</td>
<td>false</td>
<td>false</td>
<td>Localhost. Once a value is provided by any cmdlet, this value will become the default.</td>
</tr>
</tbody>
</table>
<h2 id="input-type"><a class="toclink" href="#input-type">Input Type</a></h2>
<h3 id="none"><a class="toclink" href="#none">None</a></h3>
<p>You cannot pipe input into this cmdlet.</p>
<h2 id="return-values"><a class="toclink" href="#return-values">Return Values</a></h2>
<h3 id="citrixbrokeradminsdkaccesspolicyrule"><a class="toclink" href="#citrixbrokeradminsdkaccesspolicyrule">Citrix.Broker.Admin.SDK.AccessPolicyRule</a></h3>
<p>Get-BrokerAccessPolicyRule returns all access policy rules that match the specified selection criteria.</p>
<h2 id="examples"><a class="toclink" href="#examples">Examples</a></h2>
<h3 id="example-1"><a class="toclink" href="#example-1">EXAMPLE 1</a></h3>
<div class="codehilite"><pre><span></span>C:\PS&gt; Get-BrokerAccessPolicyRule
</pre></div>


<p>Description<br>-----------<br>Returns all access policy rules. This offers a complete description of the current site's access policy.</p>
<h3 id="example-2"><a class="toclink" href="#example-2">EXAMPLE 2</a></h3>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; Get-BrokerAccessPolicyRule -Enabled </span><span class="p">$</span><span class="nv">true</span><span class="x"> -IncludedUser sales\tech-support</span>
</pre></div>


<p>Description<br>-----------<br>Returns all rules that are both enabled and explicitly include the SALES\tech-support group in their included users filter.</p>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../Export-BrokerDesktopPolicy/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../Get-BrokerAdminFolder/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>

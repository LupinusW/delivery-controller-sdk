<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>about_Broker_EntitlementPolicy - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "about_Broker_EntitlementPolicy";
    var mkdocs_page_input_path = "Broker/about_Broker_EntitlementPolicy.md";
    var mkdocs_page_url = "/Broker/about_Broker_EntitlementPolicy/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#topic">TOPIC</a></li>
        
    
        <li class="main "><a href="#short-description">SHORT DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#long-description">LONG DESCRIPTION</a></li>
        
    
        <li class="main "><a href="#entitlement-policy-rules">ENTITLEMENT POLICY RULES</a></li>
        
    
        <li class="main "><a href="#notes">NOTES</a></li>
        
    
        <li class="main "><a href="#see-also">SEE ALSO</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Broker &raquo;</li>
        
      
    
    <li>about_Broker_EntitlementPolicy</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>ï»¿# about_Broker_EntitlementPolicy</p>
<h2 id="topic"><a class="toclink" href="#topic">TOPIC</a></h2>
<div class="codehilite"><pre><span></span>Citrix Broker SDK - Desktop and Application Entitlement Policy
</pre></div>


<h2 id="short-description"><a class="toclink" href="#short-description">SHORT DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>Controls end-user entitlement to desktop and application sessions provided 
from a pool of shared machines.
</pre></div>


<h2 id="long-description"><a class="toclink" href="#long-description">LONG DESCRIPTION</a></h2>
<div class="codehilite"><pre><span></span>The site&#39;s entitlement policy defines rules controlling users&#39; entitlements 
to desktop and application sessions from pools of shared machines. Each pool 
is defined by a desktop group.

The entitlement policy comprises a set of rules. Each rule grants users a 
single entitlement to a desktop or application session in a specified 
desktop group. The policy can  be applied only to groups of desktop kind 
Random. For desktop entitlements multiple rules can apply to the same group, 
however for application entitlements only a single rule can apply to a given 
group.

When the user starts a session by selecting an entitlement the behavior 
depends on the session-support property of the desktop group:

o   For single-session groups the user is temporarily assigned a machine 
    selected at random from the group to provide their session. When the 
    session ends, the machine is returned to the pool of available machines. 
o   For multi-session groups the user session is provided by the machine 
    that is least loaded within the group when the session is launched.

If multiple desktop entitlement rules for the same group contain the same 
user, the user can have as many desktop sessions from the group concurrently 
as they have entitlements.

Although only a single application entitlement rule can be defined for a 
group, a user can still launch multiple applications from that group because 
the applications all run within that entitlement&#39;s single session.

Rules for desktop and application session entitlements are distinct. Desktop 
entitlements are managed through the BrokerEntitlementPolicyRule SDK object, 
and application rules through the BrokerAppEntitlementPolicyRule object.

Desktop entitlement rules can be created only for desktop groups with 
delivery types DesktopsOnly or DesktopsAndApps, whereas an application 
entitlement rule can be created only for delivery types AppsOnly or 
DesktopsAndApps.

For desktop groups with delivery type DesktopsAndApps, typically one or more 
desktop session entitlement rules together with a single application session 
entitlement rule exist.

For an entitlement granted by the entitlement policy to be available to a 
user, the site&#39;s access policy must also grant them access to the desktop 
group.
</pre></div>


<h2 id="entitlement-policy-rules"><a class="toclink" href="#entitlement-policy-rules">ENTITLEMENT POLICY RULES</a></h2>
<div class="codehilite"><pre><span></span>Each entitlement policy rule has the following key properties:

o   The desktop group to which it applies (one rule only ever applies 
    to one group) 
o   The users to whom the entitlement is granted

Additionally for desktop entitlement rules, the following properties exist:

o   The published name of the entitlement (visible to the user) 
o   Any properties that a desktop session launched using the entitlement 
    should use that differ from the defaults specified on the desktop group

If multiple desktop entitlements are available to a user from the same group 
the resultant desktop session properties may differ depending on which 
entitlement the user selects to start the session.

Each rule can be individually enabled or disabled. A disabled rule is 
ignored when the entitlement policy is evaluated.
</pre></div>


<p>USER FILTERS (FULL) 
    Each rule has two user filters, an include filter and an exclude filter: </p>
<div class="codehilite"><pre><span></span>o   The include filter contains users and user groups that are granted 
    an entitlement to a session 
o   The exclude filter contains users and user groups that are denied 
    an entitlement to a session

If the include filter of a rule contains multiple instances of a user 
(either explicit or implicit), they get only one entitlement by that rule.

Entries in the exclude filter take priority, so if a user appears explicitly 
or implicitly in both filters, access is denied. Typically, you use this 
filter to exclude a user or group of users who would otherwise gain access 
because they are members of a user group specified in the include filter.

Because all rules are independently evaluated, the exclude filter can only 
exclude users who would otherwise gain an entitlement through the same 
rule&#39;s include filter. That is, if a user is in a rule&#39;s include filter but 
not its exclude filter, the rule is guaranteed to grant that user a session 
entitlement irrespective of whether the user appears in the exclude filter 
of other rules.

If a filter contains a user group that contains other users and groups, the 
filter implicitly includes all of those users and groups.

By default the exclude filter is disabled.

To maintain entitlement policy rules that can be fully displayed and edited 
with Citrix Studio, use the simplified user filter model below and do not 
use the exclude filter.
</pre></div>


<p>USER FILTERS (SIMPLIFIED) 
    The included user filter described above also supports a simplified usage 
    model where the filter itself is disabled. When this is done, any user who 
    has access to the desktop group through the access policy is implicitly 
    granted an entitlement to a session through the entitlement policy rule 
    without the need to list the user in the rule's include filter. </p>
<div class="codehilite"><pre><span></span>This is useful in cases where the access policy for the desktop group 
already explicitly specifies the users who should have access.

Even if the include filter is disabled, the exclude filter can still be used 
to deny the entitlement from users who would otherwise gain access through 
the access policy alone.
</pre></div>


<p>ADDITIONAL DESKTOP ENTITLEMENT RULE PROPERTIES 
    Desktop entitlement rules specify the following additional properties: </p>
<div class="codehilite"><pre><span></span>o   PublishedName 
o   Description 
o   IconUid 
o   ColorDepth 
o   SecureIcaRequired

The published name, description, and icon UID properties apply to the 
desktop entitlement itself and determine the way in which the entitlement is 
presented to the user in, for example, StoreFront.

The color depth and secure ICA properties apply to the desktop session that 
is obtained when the entitlement is used.

In all cases, these properties can be explicitly specified. However, a null 
value (the default) means that the corresponding property is taken from the 
desktop group to which the rule applies. This inheritance from groups is 
dynamic; if the property of the group changes, the property of the 
entitlement changes too.
</pre></div>


<h2 id="notes"><a class="toclink" href="#notes">NOTES</a></h2>
<div class="codehilite"><pre><span></span>If a rule grants an entitlement to a user group, the session entitlement 
applies to the individual user who selects the entitlement. However, this 
does not prevent a different user in the same user group from using the 
same entitlement concurrently. So, a rule that grants an entitlement to a 
user group containing multiple users allows each user concurrent access to a 
single session from the desktop group.

The total number of entitlements defined by the policy may exceed the number 
of machines available, or the maximum allowed sessions, from the desktop 
group. A user attempting to use an entitlement when no further resources are 
available receives a no-desktop-available error.

If a session launched through an entitlement is active when the entitlement 
rule is deleted, the session continues unaffected. However:

    o   When the user ends the session, they cannot start a new one if the 
        deleted rule was their only entitlement to a session in that group 
    o   If the user disconnects the session, they cannot reconnect to it
</pre></div>


<h2 id="see-also"><a class="toclink" href="#see-also">SEE ALSO</a></h2>
<div class="codehilite"><pre><span></span>about_Broker_Policies 
about_Broker_AccessPolicy 
about_Broker_AssignmentPolicy 
about_Broker_Applications 
New-BrokerEntitlementPolicyRule 
Get-BrokerEntitlementPolicyRule 
Set-BrokerEntitlementPolicyRule 
Rename-BrokerEntitlementPolicyRule 
Remove-BrokerEntitlementPolicyRule 
New-BrokerAppEntitlementPolicyRule 
Get-BrokerAppEntitlementPolicyRule 
Set-BrokerAppEntitlementPolicyRule 
Rename-BrokerAppEntitlementPolicyRule 
Remove-BrokerAppEntitlementPolicyRule
</pre></div>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../about_Broker_Desktops/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../about_Broker_ErrorHandling/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>

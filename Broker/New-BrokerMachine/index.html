<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>New-BrokerMachine - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "New-BrokerMachine";
    var mkdocs_page_input_path = "Broker/New-BrokerMachine.md";
    var mkdocs_page_url = "/Broker/New-BrokerMachine/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#syntax">Syntax</a></li>
        
    
        <li class="main "><a href="#detailed-description">Detailed Description</a></li>
        
    
        <li class="main "><a href="#related-commands">Related Commands</a></li>
        
    
        <li class="main "><a href="#parameters">Parameters</a></li>
        
    
        <li class="main "><a href="#input-type">Input Type</a></li>
        
            <li><a href="#none">None</a></li>
        
    
        <li class="main "><a href="#return-values">Return Values</a></li>
        
            <li><a href="#citrixbrokeradminsdkmachine">Citrix.Broker.Admin.SDK.Machine</a></li>
        
    
        <li class="main "><a href="#examples">Examples</a></li>
        
            <li><a href="#example-1">EXAMPLE 1</a></li>
        
            <li><a href="#example-2">EXAMPLE 2</a></li>
        
            <li><a href="#example-3">EXAMPLE 3</a></li>
        
            <li><a href="#example-4">EXAMPLE 4</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Broker &raquo;</li>
        
      
    
    <li>New-BrokerMachine</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>ï»¿# New-BrokerMachine</p>
<p>Adds a machine that can be used to run desktops and applications.</p>
<h2 id="syntax"><a class="toclink" href="#syntax">Syntax</a></h2>
<div class="codehilite"><pre><span></span>New-BrokerMachine [-MachineName] &lt;String&gt; -CatalogUid &lt;Int32&gt; [-AssignedClientName &lt;String&gt;] [-AssignedIPAddress &lt;String&gt;] [-HostedMachineId &lt;String&gt;] [-HypervisorConnectionUid &lt;Int32&gt;] [-InMaintenanceMode &lt;Boolean&gt;] [-IsReserved &lt;Boolean&gt;] [-UUID &lt;Guid&gt;] [-LoggingId &lt;Guid&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]
</pre></div>


<h2 id="detailed-description"><a class="toclink" href="#detailed-description">Detailed Description</a></h2>
<p>By adding a machine to a catalog, New-BrokerMachine adds a machine to the site, and is the first step in making the machine available to run users' desktops and applications. The machine may be physical or virtual.</p>
<p>For physical machines, you must specify the machine's SID and the catalog to which it will belong. For virtual machines which are not provisioned by MCS, you must also provide the hypervisor connection responsible for running the machine and the hosted machine ID by which the hypervisor recognizes the machine.</p>
<p>The machine must support the expected capabilities of the catalog: the catalog specifies a SessionType and a MinimalFunctionalLevel. The session support of the machine is determined by the type of Citrix VDA software installed (server or workstation) and the functional level depends on the version of the Citrix VDA software installed. The New-BrokerMachine command will complete successfully if these are not correct but the machine will be unable to register.</p>
<p>For more information about machines, see about_Broker_Machines.</p>
<h2 id="related-commands"><a class="toclink" href="#related-commands">Related Commands</a></h2>
<ul>
<li><a href="../Add-BrokerMachine.html">Add-BrokerMachine</a></li>
</ul>
<h2 id="parameters"><a class="toclink" href="#parameters">Parameters</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Required?</th>
<th>Pipeline Input</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>MachineName</td>
<td>Specify the name of the machine to create (in the form 'domain\machine'). A SID can also be specified.</td>
<td>true</td>
<td>true (ByPropertyName)</td>
<td></td>
</tr>
<tr>
<td>CatalogUid</td>
<td>The catalog to which this machine will belong.</td>
<td>true</td>
<td>true (ByPropertyName)</td>
<td></td>
</tr>
<tr>
<td>AssignedClientName</td>
<td>The client name to which this machine will be assigned. Machines can be assigned to multiple users, a single client IP address, or a single client name, but only to one of these categories at a time.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td></td>
</tr>
<tr>
<td>AssignedIPAddress</td>
<td>The client IP address to which this machine will be assigned. Machines can be assigned to multiple users, a single client IP address, or a single client name, but only to one of these categories at a time.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td></td>
</tr>
<tr>
<td>HostedMachineId</td>
<td>The unique ID by which the hypervisor recognizes the machine. Omit this for physical machines or MCS-provisioned VMs.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td>null</td>
</tr>
<tr>
<td>HypervisorConnectionUid</td>
<td>The hypervisor connection that runs the machine. Omit this for physical machines or MCS-provisioned VMs.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td>null</td>
</tr>
<tr>
<td>InMaintenanceMode</td>
<td>Specifies whether the machine is initially in maintenance mode. A machine in maintenance mode is not available for new sessions, and for managed machines all automatic power management is disabled.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td>false</td>
</tr>
<tr>
<td>IsReserved</td>
<td>Specifies whether the machine should be reserved for special use, for example, for AppDisk preparation. A reserved machine cannot be added to a desktop group.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td></td>
</tr>
<tr>
<td>UUID</td>
<td>An optional GUID for this machine.</td>
<td>false</td>
<td>true (ByPropertyName)</td>
<td>A new GUID is generated if none is supplied.</td>
</tr>
<tr>
<td>LoggingId</td>
<td>Specifies the identifier of the high level operation that this cmdlet call forms a part of. Desktop Studio and Desktop Director typically create High Level Operations. PowerShell scripts can also wrap a series of cmdlet calls in a High Level Operation by way of the Start-LogHighLevelOperation and Stop-LogHighLevelOperation cmdlets.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>AdminAddress</td>
<td>Specifies the address of a XenDesktop controller that the PowerShell snapin will connect to. This can be provided as a host name or an IP address.</td>
<td>false</td>
<td>false</td>
<td>Localhost. Once a value is provided by any cmdlet, this value will become the default.</td>
</tr>
</tbody>
</table>
<h2 id="input-type"><a class="toclink" href="#input-type">Input Type</a></h2>
<h3 id="none"><a class="toclink" href="#none">None</a></h3>
<p>You cannot pipe input into this cmdlet.</p>
<h2 id="return-values"><a class="toclink" href="#return-values">Return Values</a></h2>
<h3 id="citrixbrokeradminsdkmachine"><a class="toclink" href="#citrixbrokeradminsdkmachine">Citrix.Broker.Admin.SDK.Machine</a></h3>
<p>New-BrokerMachine returns the created machine.</p>
<h2 id="examples"><a class="toclink" href="#examples">Examples</a></h2>
<h3 id="example-1"><a class="toclink" href="#example-1">EXAMPLE 1</a></h3>
<div class="codehilite"><pre><span></span>C:\PS&gt; New-BrokerMachine -CatalogUid 2 -MachineName &#39;domain\machine&#39;
</pre></div>


<p>Description<br>-----------<br>This adds the physical machine with the specified SAM name to this site and places it in the specified catalog.</p>
<h3 id="example-2"><a class="toclink" href="#example-2">EXAMPLE 2</a></h3>
<div class="codehilite"><pre><span></span>C:\PS&gt; New-BrokerMachine -CatalogUid 2 -MachineName &#39;S-1-5-12-1234567890-1234567890-1234567890-1234&#39;
</pre></div>


<p>Description<br>-----------<br>This adds the physical machine with the specified SID to this site and places it in the specified catalog.</p>
<h3 id="example-3"><a class="toclink" href="#example-3">EXAMPLE 3</a></h3>
<div class="codehilite"><pre><span></span>C:\PS&gt; New-BrokerMachine -CatalogUid 2 -MachineName &#39;domain\machine&#39; -HostedMachineId &#39;F8143B4F-7371-4efa-868A-54787EF9F64E&#39; -HypervisorConnectionUid 5
</pre></div>


<p>Description<br>-----------<br>This adds the virtual machine, running on the specified hypervisor, to this site and places it in the catalog.</p>
<h3 id="example-4"><a class="toclink" href="#example-4">EXAMPLE 4</a></h3>
<div class="codehilite"><pre><span></span><span class="x">C:\PS&gt; </span><span class="p">$</span><span class="nv">m</span><span class="x"> = New-BrokerMachine -CatalogUid 2 -MachineName &#39;domain\machine&#39;</span>
<span class="x">C:\PS&gt; Add-BrokerMachine -InputObject </span><span class="p">$</span><span class="nv">m</span><span class="x"> -DesktopGroup 3</span>
</pre></div>


<p>Description<br>-----------<br>This adds the specified physical machine to the site and uses Add-BrokerMachine to add it to a desktop group.</p>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../New-BrokerLocalDb/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../New-BrokerMachineCommand/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>
